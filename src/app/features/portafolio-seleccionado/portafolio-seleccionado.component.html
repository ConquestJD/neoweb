<div *ngIf="project" class="project-detail-page">
  <!-- Hero: Proyecto Izquierda + Imagen Derecha -->
  <section class="project-hero-section">
    <div class="container">
      <a routerLink="/portafolio" class="back-button">
        <span class="material-icons">arrow_back</span>
        <span>Volver al portafolio</span>
      </a>
      <div class="project-hero-layout">
        <div class="project-hero-content">
          <div class="project-hero-badges">
            <span class="project-hero-badge">{{ project.category }}</span>
            <span class="project-hero-badge badge-accent">{{ project.results.type }}</span>
          </div>
          <h1 class="project-hero-title">{{ project.title }}</h1>
          <p class="project-hero-description">{{ project.description }}</p>
          <div class="project-hero-actions">
            <a [href]="project.results.websiteUrl" target="_blank" class="hero-btn-primary" *ngIf="project.results.websiteUrl !== '#'">
              <span class="material-icons">launch</span>
              <span>Visitar sitio web</span>
            </a>
            <a routerLink="/contacto" class="hero-btn-secondary">
              <span class="material-icons">chat</span>
              <span>Hablemos de tu proyecto</span>
            </a>
          </div>
        </div>
        <div class="project-hero-image">
          <img [src]="project.imageUrl" [alt]="project.title">
        </div>
      </div>
    </div>
  </section>

  <!-- Problema, Solución y Tecnologías -->
  <section class="project-insights-section">
    <div class="container">
      <div class="insights-layout">
        <div class="insights-cards">
          <div class="insight-card problem-card">
            <div class="insight-header">
              <div class="insight-icon problem-icon">
                <span class="material-icons">error_outline</span>
              </div>
              <h3>El Desafío</h3>
            </div>
            <p>{{ project.results.problem }}</p>
          </div>
          <div class="insight-card solution-card">
            <div class="insight-header">
              <div class="insight-icon solution-icon">
                <span class="material-icons">lightbulb</span>
              </div>
              <h3>Nuestra Solución</h3>
            </div>
            <p>{{ project.results.solution }}</p>
          </div>
        </div>
        <div class="technologies-used">
          <h3 class="section-title">
            <span class="material-icons">code</span>
            Tecnologías Empleadas
          </h3>
          <div class="technologies-list">
            <div *ngFor="let tech of project.technologies" class="tech-item">
              <span class="material-icons">check_circle</span>
              <span>{{ tech }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Imágenes de Tecnologías -->
  <section class="tech-images-section" *ngIf="project.technologyImages && project.technologyImages.length > 0">
    <div class="container">
      <h3 class="section-title-center">
        <span class="material-icons">terminal</span>
        Stack Tecnológico
      </h3>
      <div class="tech-images-grid">
        <div *ngFor="let techImg of project.technologyImages" class="tech-image-item">
          <img [src]="techImg" [alt]="'Tecnología'">
        </div>
      </div>
    </div>
  </section>

  <!-- Vistas del Proyecto (3 imágenes) -->
  <section class="project-views-section">
    <div class="container">
      <h3 class="section-title-center">
        <span class="material-icons">collections</span>
        Vistas del Proyecto
      </h3>
      <div class="project-views-grid">
        <div class="view-item">
          <img [src]="project.imageUrl" [alt]="project.title + ' vista 1'">
        </div>
        <div class="view-item">
          <img [src]="project.imageUrl2" [alt]="project.title + ' vista 2'">
        </div>
        <div class="view-item" *ngIf="project.imageUrl3">
          <img [src]="project.imageUrl3" [alt]="project.title + ' vista 3'">
        </div>
        <div class="view-item" *ngIf="!project.imageUrl3">
          <img [src]="project.imageUrl" [alt]="project.title + ' vista 3'">
        </div>
      </div>
    </div>
  </section>

  <!-- Características de la Página -->
  <section class="project-features-section">
    <div class="container">
      <h3 class="section-title-center">
        <span class="material-icons">star</span>
        Características de la Página
      </h3>
      <div class="features-grid">
        <div *ngFor="let feature of project.features" class="feature-item">
          <span class="material-icons">check_circle</span>
          <span>{{ feature }}</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Proyectos Relacionados -->
  <section class="related-projects-section" *ngIf="relatedProjects.length > 0">
    <div class="container">
      <h3 class="section-title-center">
        <span class="material-icons">folder_special</span>
        Proyectos Relacionados
      </h3>
      <div class="related-projects-grid">
        <div *ngFor="let relatedProject of relatedProjects" class="related-project-card">
          <div class="related-project-image">
            <img [src]="relatedProject.imageUrl" [alt]="relatedProject.title">
          </div>
          <div class="related-project-content">
            <span class="related-project-category">{{ relatedProject.category }}</span>
            <h4 class="related-project-title">{{ relatedProject.title }}</h4>
            <p class="related-project-description">{{ relatedProject.description }}</p>
            <a [routerLink]="['/portafolio', relatedProject.id]" class="related-project-link">
              Ver proyecto
              <span class="material-icons">arrow_forward</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Planes del Tipo de Servicio -->
  <section class="service-plans-section" *ngIf="servicePlans.length > 0">
    <div class="container">
      <div class="plans-header">
        <p class="plans-badge">
          <span class="material-icons">local_offer</span>
          Planes disponibles
        </p>
        <h3 class="plans-title">Planes de {{ project.results.type }}</h3>
        <p class="plans-description">Elige el plan que mejor se adapte a las necesidades de tu proyecto</p>
      </div>
      <div class="plans-grid">
        <div *ngFor="let plan of servicePlans" class="plan-card" [class.featured]="plan.featured">
          <div class="plan-header">
            <div class="plan-icon">
              <span class="material-icons">{{ plan.icon }}</span>
            </div>
            <h4 class="plan-name">{{ plan.name }}</h4>
            <div class="plan-price">{{ plan.price }}</div>
          </div>
          <ul class="plan-features">
            <li *ngFor="let feature of plan.features">
              <span class="material-icons">check</span>
              <span>{{ feature }}</span>
            </li>
          </ul>
          <a routerLink="/contacto" class="plan-button">
            Solicitar cotización
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Final -->
  <section class="project-cta-section">
    <div class="container">
      <div class="cta-content">
        <h3 class="cta-title">¿Listo para tu próximo proyecto?</h3>
        <p class="cta-description">Hablemos de cómo podemos llevar tu negocio al siguiente nivel digital</p>
        <div class="cta-buttons">
          <a routerLink="/contacto" class="cta-btn-primary">
            <span class="material-icons">rocket_launch</span>
            <span>Iniciar proyecto</span>
          </a>
          <a routerLink="/portafolio" class="cta-btn-secondary">
            <span class="material-icons">folder</span>
            <span>Ver más proyectos</span>
          </a>
        </div>
      </div>
    </div>
  </section>
</div>
