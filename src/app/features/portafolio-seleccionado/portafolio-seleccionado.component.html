<div *ngIf="project" class="project-detail-page">
  <!-- Hero Mejorado: Proyecto Izquierda + Imagen Derecha -->
  <section class="project-hero-enhanced">
    <div class="project-hero-background"></div>
    <div class="project-hero-particles"></div>
    <div class="container">
      <a routerLink="/portafolio" class="back-button-enhanced">
        <span class="material-icons">arrow_back</span>
        <span>Volver al portafolio</span>
      </a>
      <div class="project-hero-layout-enhanced">
        <div class="project-hero-content-enhanced">
          <div class="project-hero-badges-enhanced">
            <span class="project-hero-badge-enhanced">
              <span class="material-icons">category</span>
              <span>{{ project.category }}</span>
            </span>
            <span class="project-hero-badge-enhanced badge-accent-enhanced">
              <span class="material-icons">star</span>
              <span>{{ project.results.type }}</span>
            </span>
          </div>
          <h1 class="project-hero-title-enhanced">
            {{ project.title }}
          </h1>
          <p class="project-hero-description-enhanced">{{ project.description }}</p>
          
          <!-- Métricas Rápidas -->
          <div class="project-hero-metrics">
            <div *ngFor="let metric of project.results.metrics.slice(0, 3)" class="hero-metric-item">
              <div class="hero-metric-icon">
                <span class="material-icons">{{ metric.icon }}</span>
              </div>
              <div class="hero-metric-content">
                <div class="hero-metric-value">{{ metric.value }}</div>
                <div class="hero-metric-label">{{ metric.label }}</div>
              </div>
            </div>
          </div>

          <div class="project-hero-actions-enhanced">
            <a [href]="project.results.websiteUrl" target="_blank" class="hero-btn-primary-enhanced" *ngIf="project.results.websiteUrl !== '#'">
              <span class="material-icons">launch</span>
              <span>Visitar sitio web</span>
              <span class="material-icons action-arrow">arrow_forward</span>
            </a>
            <a routerLink="/contacto" class="hero-btn-secondary-enhanced">
              <span class="material-icons">chat_bubble_outline</span>
              <span>Hablemos de tu proyecto</span>
            </a>
          </div>
        </div>
        <div class="project-hero-image-enhanced">
          <div class="hero-image-container">
            <div class="hero-image-glow"></div>
            <div class="hero-image-badge">
              <span class="material-icons">photo_library</span>
              <span>Vista principal</span>
            </div>
            <img [src]="project.imageUrl" [alt]="project.title" class="hero-main-image">
            <div class="hero-image-overlay">
              <span class="material-icons">zoom_in</span>
              <span>Ver en detalle</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Problema y Solución Mejorados -->
  <section class="project-insights-enhanced">
    <div class="project-insights-background"></div>
    <div class="container">
      <div class="insights-header-enhanced">
        <div class="insights-badge">
          <span class="material-icons">analytics</span>
          <span>Análisis Estratégico</span>
        </div>
        <h2 class="insights-title">Del Desafío a la Solución</h2>
        <p class="insights-subtitle">Comprendemos el problema, diseñamos la estrategia y ejecutamos la solución</p>
      </div>
      <div class="insights-cards-enhanced">
        <div class="insight-card-enhanced problem-card-enhanced">
          <div class="insight-card-glow problem-glow"></div>
          <div class="insight-badge-top">
            <span class="material-icons">error_outline</span>
            <span>Desafío</span>
          </div>
          <div class="insight-content-wrapper">
            <div class="insight-header-enhanced">
              <div class="insight-icon-enhanced problem-icon-enhanced">
                <span class="material-icons">warning</span>
              </div>
              <div class="insight-title-wrapper">
                <h3 class="insight-title-enhanced">El Desafío</h3>
                <p class="insight-subtitle-enhanced">Problema identificado</p>
              </div>
            </div>
            <div class="insight-divider"></div>
            <p class="insight-text-enhanced">{{ project.results.problem }}</p>
            <div class="insight-challenges">
              <div class="challenge-item">
                <span class="material-icons">remove_circle</span>
                <span>Falta de presencia digital</span>
              </div>
              <div class="challenge-item">
                <span class="material-icons">remove_circle</span>
                <span>Procesos manuales ineficientes</span>
              </div>
              <div class="challenge-item">
                <span class="material-icons">remove_circle</span>
                <span>Limitado alcance geográfico</span>
              </div>
            </div>
            <div class="insight-arrow-enhanced">
              <span class="material-icons">arrow_forward</span>
            </div>
          </div>
        </div>
        <div class="insight-connector">
          <div class="connector-line"></div>
          <div class="connector-icon">
            <span class="material-icons">auto_awesome</span>
          </div>
          <div class="connector-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
          </div>
        </div>
        <div class="insight-card-enhanced solution-card-enhanced">
          <div class="insight-card-glow solution-glow"></div>
          <div class="insight-badge-top solution-badge">
            <span class="material-icons">check_circle</span>
            <span>Solución</span>
          </div>
          <div class="insight-content-wrapper">
            <div class="insight-header-enhanced">
              <div class="insight-icon-enhanced solution-icon-enhanced">
                <span class="material-icons">lightbulb</span>
              </div>
              <div class="insight-title-wrapper">
                <h3 class="insight-title-enhanced">Nuestra Solución</h3>
                <p class="insight-subtitle-enhanced">Solución implementada</p>
              </div>
            </div>
            <div class="insight-divider"></div>
            <p class="insight-text-enhanced">{{ project.results.solution }}</p>
            <div class="insight-solutions">
              <div class="solution-item">
                <span class="material-icons">check_circle</span>
                <span>Plataforma digital completa</span>
              </div>
              <div class="solution-item">
                <span class="material-icons">check_circle</span>
                <span>Automatización de procesos</span>
              </div>
              <div class="solution-item">
                <span class="material-icons">check_circle</span>
                <span>Alcance internacional</span>
              </div>
            </div>
            <div class="insight-results-preview">
              <div class="result-preview-item">
                <span class="material-icons">trending_up</span>
                <div>
                  <div class="result-value">{{ project.results.metrics[0]?.value || '100%' }}</div>
                  <div class="result-label">{{ project.results.metrics[0]?.label || 'Mejora' }}</div>
                </div>
              </div>
            </div>
            <div class="insight-arrow-enhanced">
              <span class="material-icons">check_circle</span>
            </div>
          </div>
        </div>
      </div>
      <div class="insights-impact-section">
        <div class="impact-header">
          <span class="material-icons">star</span>
          <h4>Impacto del Proyecto</h4>
        </div>
        <div class="impact-grid">
          <div *ngFor="let impact of project.results.businessImpact" class="impact-item">
            <span class="material-icons">verified</span>
            <span>{{ impact }}</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Imágenes de Tecnologías Mejoradas -->
  <section class="tech-images-enhanced" *ngIf="project.technologyImages && project.technologyImages.length > 0">
    <div class="tech-images-background"></div>
    <div class="container">
      <div class="tech-images-header">
        <div class="tech-images-badge">
          <span class="material-icons">code</span>
          <span>Stack Tecnológico</span>
        </div>
        <h3 class="tech-images-title">Tecnologías que impulsan este proyecto</h3>
      </div>
      <div class="tech-images-row">
        <div *ngFor="let techImg of project.technologyImages; let i = index" class="tech-image-card" [style.animation-delay]="i * 0.1 + 's'">
          <div class="tech-image-wrapper">
            <div class="tech-image-glow-effect"></div>
            <img [src]="techImg" [alt]="'Tecnología ' + (i + 1)" class="tech-image-logo">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Vistas del Proyecto Rediseñadas -->
  <section class="project-views-enhanced">
    <div class="project-views-background"></div>
    <div class="views-pattern-overlay"></div>
    <div class="container">
      <div class="project-views-header">
        <div class="views-badge">
          <span class="material-icons">collections</span>
          <span>Galería del Proyecto</span>
        </div>
        <h3 class="views-title">Un Vistazo Detallado al Diseño</h3>
        <p class="views-subtitle">Explora las interfaces y la experiencia de usuario de este proyecto</p>
      </div>
      <div class="project-views-grid-enhanced">
        <div class="view-card-enhanced" 
             *ngFor="let img of [project.imageUrl, project.imageUrl2, project.imageUrl3 || project.imageUrl]; let i = index"
             [style.animation-delay]="i * 0.15 + 's'">
          <div class="view-card-wrapper">
            <div class="view-card-background"></div>
            <div class="view-number-badge">
              <div class="badge-icon-wrapper">
                <span class="material-icons">photo</span>
              </div>
              <div class="badge-content">
                <span class="badge-number">0{{ i + 1 }}</span>
                <span class="badge-label">Vista</span>
              </div>
            </div>
            <div class="view-image-container">
              <div class="view-image-glow"></div>
              <div class="view-image-border"></div>
              <img [src]="img" [alt]="project.title + ' vista ' + (i + 1)" class="view-image">
              <div class="view-overlay">
                <div class="view-overlay-content">
                  <div class="overlay-icon-wrapper">
                    <span class="material-icons">zoom_in</span>
                  </div>
                  <span class="overlay-text">Ver en detalle</span>
                  <div class="overlay-arrow">
                    <span class="material-icons">arrow_forward</span>
                  </div>
                </div>
              </div>
              <div class="view-shine-effect"></div>
            </div>
            <div class="view-card-footer">
              <div class="view-footer-content">
                <div class="view-footer-icon">
                  <span class="material-icons">desktop_windows</span>
                </div>
                <div class="view-footer-text">
                  <span class="view-label">{{ ['Vista Principal', 'Diseño Interior', 'Vista Adicional'][i] || 'Captura ' + (i + 1) }}</span>
                  <span class="view-description">Sección {{ i + 1 }} del proyecto</span>
                </div>
              </div>
              <div class="view-footer-arrow">
                <span class="material-icons">arrow_forward</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="views-cta">
        <a [href]="project.results.websiteUrl" target="_blank" class="views-cta-button" *ngIf="project.results.websiteUrl !== '#'">
          <span class="material-icons">launch</span>
          <span>Ver proyecto completo</span>
          <span class="material-icons">arrow_forward</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Características de la Página - Diseño Premium -->
  <section class="project-features-premium">
    <div class="features-premium-background">
      <div class="features-gradient-orb orb-1"></div>
      <div class="features-gradient-orb orb-2"></div>
      <div class="features-gradient-orb orb-3"></div>
    </div>
    <div class="container">
      <div class="features-premium-header">
        <div class="features-header-badge">
          <span class="material-icons">stars</span>
          <span>Funcionalidades Premium</span>
        </div>
        <h2 class="features-premium-title">
          Características que <span class="title-gradient">impulsan</span> el éxito
        </h2>
        <p class="features-premium-description">
          Cada funcionalidad ha sido cuidadosamente diseñada e implementada para ofrecer el máximo valor y rendimiento
        </p>
      </div>

      <div class="features-premium-grid">
        <div *ngFor="let feature of project.features; let i = index" 
             class="feature-card-premium"
             [style.animation-delay]="i * 0.08 + 's'">
          <div class="feature-card-glow"></div>
          <div class="feature-card-border"></div>
          <div class="feature-card-content">
            <div class="feature-index">
              <span class="index-number">{{ i + 1 }}</span>
              <div class="index-line"></div>
            </div>
            <div class="feature-main">
              <div class="feature-icon-wrapper">
                <div class="feature-icon-bg"></div>
                <span class="material-icons feature-icon">{{ getFeatureIcon(feature) }}</span>
                <div class="feature-icon-shine"></div>
              </div>
              <h3 class="feature-title">{{ feature }}</h3>
              <p class="feature-status">
                <span class="material-icons">verified</span>
                <span>Implementado y funcional</span>
              </p>
            </div>
            <div class="feature-hover-effect">
              <div class="hover-glow"></div>
              <span class="material-icons">arrow_forward</span>
            </div>
          </div>
        </div>
      </div>

      <div class="features-stats">
        <div class="stat-card">
          <div class="stat-icon-wrapper">
            <span class="material-icons">auto_awesome</span>
          </div>
          <div class="stat-content">
            <div class="stat-value">{{ project.features.length }}</div>
            <div class="stat-label">Funcionalidades</div>
          </div>
          <div class="stat-decoration"></div>
        </div>
        <div class="stat-card">
          <div class="stat-icon-wrapper">
            <span class="material-icons">verified</span>
          </div>
          <div class="stat-content">
            <div class="stat-value">100%</div>
            <div class="stat-label">Completadas</div>
          </div>
          <div class="stat-decoration"></div>
        </div>
        <div class="stat-card">
          <div class="stat-icon-wrapper">
            <span class="material-icons">speed</span>
          </div>
          <div class="stat-content">
            <div class="stat-value">Premium</div>
            <div class="stat-label">Calidad</div>
          </div>
          <div class="stat-decoration"></div>
        </div>
        <div class="stat-card">
          <div class="stat-icon-wrapper">
            <span class="material-icons">rocket_launch</span>
          </div>
          <div class="stat-content">
            <div class="stat-value">Optimizado</div>
            <div class="stat-label">Rendimiento</div>
          </div>
          <div class="stat-decoration"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Proyectos Relacionados Rediseñados -->
  <section class="related-projects-enhanced" *ngIf="relatedProjects.length > 0">
    <div class="related-projects-background"></div>
    <div class="container">
      <div class="related-projects-header-enhanced">
        <div class="related-projects-badge">
          <span class="material-icons">explore</span>
          <span>Descubre Más</span>
        </div>
        <h3 class="related-projects-title-enhanced">Proyectos Relacionados</h3>
        <p class="related-projects-subtitle">Explora otros proyectos que podrían interesarte</p>
      </div>
      <div class="related-projects-grid-enhanced">
        <div *ngFor="let relatedProject of relatedProjects; let i = index" 
             class="related-project-card-enhanced" 
             [style.animation-delay]="i * 0.15 + 's'">
          <div class="related-project-image-wrapper">
            <div class="related-project-image-overlay"></div>
            <img [src]="relatedProject.imageUrl" [alt]="relatedProject.title" class="related-project-image-enhanced">
            <div class="related-project-image-glow"></div>
            <div class="related-project-badge-overlay">
              <span class="material-icons">star</span>
              <span>{{ relatedProject.category }}</span>
            </div>
          </div>
          <div class="related-project-content-enhanced">
            <h4 class="related-project-title-enhanced">{{ relatedProject.title }}</h4>
            <p class="related-project-description-enhanced">{{ relatedProject.description }}</p>
            <div class="related-project-footer">
              <a [routerLink]="['/portafolio', relatedProject.id]" class="related-project-link-enhanced">
                <span>Ver detalles</span>
                <span class="material-icons">arrow_forward</span>
              </a>
              <div class="related-project-arrow">
                <span class="material-icons">trending_flat</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Planes del Tipo de Servicio Rediseñados -->
  <section class="service-plans-enhanced" *ngIf="servicePlans.length > 0">
    <div class="plans-background-pattern"></div>
    <div class="container">
      <div class="plans-header-enhanced">
        <div class="plans-badge-enhanced">
          <span class="material-icons">workspace_premium</span>
          <span>Planes Premium</span>
        </div>
        <h3 class="plans-title-enhanced">Planes de {{ project.results.type }}</h3>
        <p class="plans-description-enhanced">Elige el plan perfecto para hacer realidad tu proyecto</p>
      </div>
      <div class="plans-grid-enhanced">
        <div *ngFor="let plan of servicePlans; let i = index" 
             class="plan-card-enhanced" 
             [class.plan-featured]="plan.featured"
             [style.animation-delay]="i * 0.15 + 's'">
          <div class="plan-card-glow"></div>
          <div class="plan-badge-popular" *ngIf="plan.featured">
            <span class="material-icons">star</span>
            <span>Más Popular</span>
          </div>
          <div class="plan-header-enhanced">
            <div class="plan-icon-wrapper">
              <div class="plan-icon-bg"></div>
              <span class="material-icons plan-icon-enhanced">{{ plan.icon }}</span>
            </div>
            <h4 class="plan-name-enhanced">{{ plan.name }}</h4>
            <div class="plan-price-wrapper">
              <span class="plan-price-enhanced">{{ plan.price }}</span>
              <span class="plan-price-label">Precio único</span>
            </div>
          </div>
          <div class="plan-features-enhanced">
            <div class="plan-features-header">
              <span class="material-icons">check_circle</span>
              <span>Incluye:</span>
            </div>
            <ul class="plan-features-list">
              <li *ngFor="let feature of plan.features" class="plan-feature-item">
                <div class="plan-feature-check">
                  <span class="material-icons">check</span>
                </div>
                <span class="plan-feature-text">{{ feature }}</span>
              </li>
            </ul>
          </div>
          <div class="plan-footer-enhanced">
            <a routerLink="/contacto" class="plan-button-enhanced">
              <span>Solicitar cotización</span>
              <span class="material-icons">arrow_forward</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Final Rediseñado -->
  <section class="project-cta-enhanced">
    <div class="cta-background-gradient"></div>
    <div class="cta-particles"></div>
    <div class="cta-shapes">
      <div class="cta-shape cta-shape-1"></div>
      <div class="cta-shape cta-shape-2"></div>
      <div class="cta-shape cta-shape-3"></div>
    </div>
    <div class="container">
      <div class="cta-content-enhanced">
        <div class="cta-badge-enhanced">
          <span class="material-icons">auto_awesome</span>
          <span>Transforma tu Negocio</span>
        </div>
        <h3 class="cta-title-enhanced">
          ¿Listo para tu próximo
          <span class="cta-title-highlight">proyecto?</span>
        </h3>
        <p class="cta-description-enhanced">
          Hablemos de cómo podemos llevar tu negocio al siguiente nivel digital.
          <br>
          Juntos crearemos algo extraordinario.
        </p>
        <div class="cta-buttons-enhanced">
          <a routerLink="/contacto" class="cta-btn-primary-enhanced">
            <span class="btn-icon-wrapper">
              <span class="material-icons">rocket_launch</span>
            </span>
            <span class="btn-text">Iniciar proyecto</span>
            <span class="btn-arrow">
              <span class="material-icons">arrow_forward</span>
            </span>
            <div class="btn-shine"></div>
          </a>
          <a routerLink="/portafolio" class="cta-btn-secondary-enhanced">
            <span class="btn-icon-wrapper">
              <span class="material-icons">collections</span>
            </span>
            <span class="btn-text">Ver más proyectos</span>
            <span class="btn-arrow">
              <span class="material-icons">arrow_forward</span>
            </span>
          </a>
        </div>
        <div class="cta-trust-badges">
          <div class="trust-badge">
            <span class="material-icons">verified</span>
            <span>Garantía de calidad</span>
          </div>
          <div class="trust-badge">
            <span class="material-icons">security</span>
            <span>100% seguro</span>
          </div>
          <div class="trust-badge">
            <span class="material-icons">schedule</span>
            <span>Entrega rápida</span>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
