<div *ngIf="project" class="project-detail-page">
  <!-- Hero Mejorado: Proyecto Izquierda + Imagen Derecha -->
  <section class="project-hero-enhanced">
    <div class="project-hero-background"></div>
    <div class="project-hero-particles"></div>
    <div class="container">
      <a routerLink="/portafolio" class="back-button-enhanced">
        <span class="material-icons">arrow_back</span>
        <span>Volver al portafolio</span>
      </a>
      <div class="project-hero-layout-enhanced">
        <div class="project-hero-content-enhanced">
          <div class="project-hero-badges-enhanced">
            <span class="project-hero-badge-enhanced">
              <span class="material-icons">category</span>
              <span>{{ project.category }}</span>
            </span>
            <span class="project-hero-badge-enhanced badge-accent-enhanced">
              <span class="material-icons">star</span>
              <span>{{ project.results.type }}</span>
            </span>
          </div>
          <h1 class="project-hero-title-enhanced">
            {{ project.title }}
          </h1>
          <p class="project-hero-description-enhanced">{{ project.description }}</p>
          
          <!-- Métricas Rápidas -->
          <div class="project-hero-metrics">
            <div *ngFor="let metric of project.results.metrics.slice(0, 3)" class="hero-metric-item">
              <div class="hero-metric-icon">
                <span class="material-icons">{{ metric.icon }}</span>
              </div>
              <div class="hero-metric-content">
                <div class="hero-metric-value">{{ metric.value }}</div>
                <div class="hero-metric-label">{{ metric.label }}</div>
              </div>
            </div>
          </div>

          <div class="project-hero-actions-enhanced">
            <a [href]="project.results.websiteUrl" target="_blank" class="hero-btn-primary-enhanced" *ngIf="project.results.websiteUrl !== '#'">
              <span class="material-icons">launch</span>
              <span>Visitar sitio web</span>
              <span class="material-icons action-arrow">arrow_forward</span>
            </a>
            <a routerLink="/contacto" class="hero-btn-secondary-enhanced">
              <span class="material-icons">chat_bubble_outline</span>
              <span>Hablemos de tu proyecto</span>
            </a>
          </div>
        </div>
        <div class="project-hero-image-enhanced">
          <div class="hero-image-container">
            <div class="hero-image-glow"></div>
            <div class="hero-image-badge">
              <span class="material-icons">photo_library</span>
              <span>Vista principal</span>
            </div>
            <img [src]="project.imageUrl" [alt]="project.title" class="hero-main-image">
            <div class="hero-image-overlay">
              <span class="material-icons">zoom_in</span>
              <span>Ver en detalle</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Problema y Solución Mejorados -->
  <section class="project-insights-enhanced">
    <div class="project-insights-background"></div>
    <div class="container">
      <div class="insights-header-enhanced">
        <p class="insights-badge">
          <span class="material-icons">psychology</span>
          <span>Análisis del Proyecto</span>
        </p>
        <h2 class="insights-title">Del Desafío a la Solución</h2>
        <p class="insights-subtitle">Entendemos el problema y diseñamos la mejor solución digital</p>
      </div>
      <div class="insights-cards-enhanced">
        <div class="insight-card-enhanced problem-card-enhanced">
          <div class="insight-card-glow problem-glow"></div>
          <div class="insight-content-wrapper">
            <div class="insight-header-enhanced">
              <div class="insight-icon-enhanced problem-icon-enhanced">
                <span class="material-icons">warning</span>
              </div>
              <div class="insight-title-wrapper">
                <h3 class="insight-title-enhanced">El Desafío</h3>
                <p class="insight-subtitle-enhanced">Problema identificado</p>
              </div>
            </div>
            <div class="insight-divider"></div>
            <p class="insight-text-enhanced">{{ project.results.problem }}</p>
            <div class="insight-arrow-enhanced">
              <span class="material-icons">arrow_forward</span>
            </div>
          </div>
        </div>
        <div class="insight-connector">
          <div class="connector-line"></div>
          <div class="connector-icon">
            <span class="material-icons">auto_awesome</span>
          </div>
        </div>
        <div class="insight-card-enhanced solution-card-enhanced">
          <div class="insight-card-glow solution-glow"></div>
          <div class="insight-content-wrapper">
            <div class="insight-header-enhanced">
              <div class="insight-icon-enhanced solution-icon-enhanced">
                <span class="material-icons">lightbulb</span>
              </div>
              <div class="insight-title-wrapper">
                <h3 class="insight-title-enhanced">Nuestra Solución</h3>
                <p class="insight-subtitle-enhanced">Solución implementada</p>
              </div>
            </div>
            <div class="insight-divider"></div>
            <p class="insight-text-enhanced">{{ project.results.solution }}</p>
            <div class="insight-arrow-enhanced">
              <span class="material-icons">check_circle</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Imágenes de Tecnologías Mejoradas -->
  <section class="tech-images-enhanced" *ngIf="project.technologyImages && project.technologyImages.length > 0">
    <div class="tech-images-background"></div>
    <div class="container">
      <div class="tech-images-header">
        <div class="tech-images-badge">
          <span class="material-icons">code</span>
          <span>Stack Tecnológico</span>
        </div>
        <h3 class="tech-images-title">Tecnologías que impulsan este proyecto</h3>
      </div>
      <div class="tech-images-row">
        <div *ngFor="let techImg of project.technologyImages; let i = index" class="tech-image-card" [style.animation-delay]="i * 0.1 + 's'">
          <div class="tech-image-wrapper">
            <div class="tech-image-glow-effect"></div>
            <img [src]="techImg" [alt]="'Tecnología ' + (i + 1)" class="tech-image-logo">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Vistas del Proyecto Mejoradas (3 imágenes) -->
  <section class="project-views-enhanced">
    <div class="project-views-background"></div>
    <div class="container">
      <div class="project-views-header">
        <div class="views-badge">
          <span class="material-icons">photo_library</span>
          <span>Galería</span>
        </div>
        <h3 class="views-title">Vistas del Proyecto</h3>
        <p class="views-subtitle">Explora las diferentes secciones y funcionalidades implementadas</p>
      </div>
      <div class="project-views-grid-enhanced">
        <div class="view-card-enhanced" *ngFor="let img of [project.imageUrl, project.imageUrl2, project.imageUrl3 || project.imageUrl]; let i = index">
          <div class="view-card-wrapper">
            <div class="view-number-badge">
              <span class="material-icons">image</span>
              <span>Vista {{ i + 1 }}</span>
            </div>
            <div class="view-image-container">
              <div class="view-image-glow"></div>
              <img [src]="img" [alt]="project.title + ' vista ' + (i + 1)" class="view-image">
              <div class="view-overlay">
                <div class="view-overlay-content">
                  <span class="material-icons">zoom_in</span>
                  <span>Ver en detalle</span>
                </div>
              </div>
            </div>
            <div class="view-card-footer">
              <span class="view-label">Captura {{ i + 1 }}</span>
              <span class="material-icons view-arrow">arrow_forward</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Características de la Página Mejoradas -->
  <section class="project-features-enhanced">
    <div class="project-features-background"></div>
    <div class="container">
      <div class="project-features-header">
        <div class="features-badge">
          <span class="material-icons">auto_awesome</span>
          <span>Funcionalidades</span>
        </div>
        <h3 class="features-title">Características de la Página</h3>
        <p class="features-subtitle">Funcionalidades y características implementadas en este proyecto</p>
      </div>
      <div class="features-grid-enhanced">
        <div *ngFor="let feature of project.features; let i = index" class="feature-card-enhanced" [style.animation-delay]="i * 0.1 + 's'">
          <div class="feature-card-glow"></div>
          <div class="feature-icon-wrapper">
            <div class="feature-icon-bg"></div>
            <span class="material-icons feature-icon">check_circle</span>
          </div>
          <div class="feature-content">
            <p class="feature-text">{{ feature }}</p>
          </div>
          <div class="feature-hover-effect">
            <span class="material-icons">arrow_forward</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Proyectos Relacionados -->
  <section class="related-projects-section" *ngIf="relatedProjects.length > 0">
    <div class="container">
      <h3 class="section-title-center">
        <span class="material-icons">folder_special</span>
        Proyectos Relacionados
      </h3>
      <div class="related-projects-grid">
        <div *ngFor="let relatedProject of relatedProjects" class="related-project-card">
          <div class="related-project-image">
            <img [src]="relatedProject.imageUrl" [alt]="relatedProject.title">
          </div>
          <div class="related-project-content">
            <span class="related-project-category">{{ relatedProject.category }}</span>
            <h4 class="related-project-title">{{ relatedProject.title }}</h4>
            <p class="related-project-description">{{ relatedProject.description }}</p>
            <a [routerLink]="['/portafolio', relatedProject.id]" class="related-project-link">
              Ver proyecto
              <span class="material-icons">arrow_forward</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Planes del Tipo de Servicio -->
  <section class="service-plans-section" *ngIf="servicePlans.length > 0">
    <div class="container">
      <div class="plans-header">
        <p class="plans-badge">
          <span class="material-icons">local_offer</span>
          Planes disponibles
        </p>
        <h3 class="plans-title">Planes de {{ project.results.type }}</h3>
        <p class="plans-description">Elige el plan que mejor se adapte a las necesidades de tu proyecto</p>
      </div>
      <div class="plans-grid">
        <div *ngFor="let plan of servicePlans" class="plan-card" [class.featured]="plan.featured">
          <div class="plan-header">
            <div class="plan-icon">
              <span class="material-icons">{{ plan.icon }}</span>
            </div>
            <h4 class="plan-name">{{ plan.name }}</h4>
            <div class="plan-price">{{ plan.price }}</div>
          </div>
          <ul class="plan-features">
            <li *ngFor="let feature of plan.features">
              <span class="material-icons">check</span>
              <span>{{ feature }}</span>
            </li>
          </ul>
          <a routerLink="/contacto" class="plan-button">
            Solicitar cotización
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Final -->
  <section class="project-cta-section">
    <div class="container">
      <div class="cta-content">
        <h3 class="cta-title">¿Listo para tu próximo proyecto?</h3>
        <p class="cta-description">Hablemos de cómo podemos llevar tu negocio al siguiente nivel digital</p>
        <div class="cta-buttons">
          <a routerLink="/contacto" class="cta-btn-primary">
            <span class="material-icons">rocket_launch</span>
            <span>Iniciar proyecto</span>
          </a>
          <a routerLink="/portafolio" class="cta-btn-secondary">
            <span class="material-icons">folder</span>
            <span>Ver más proyectos</span>
          </a>
        </div>
      </div>
    </div>
  </section>
</div>
